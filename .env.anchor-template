# Vision Node Configuration - ANCHOR / GUARDIAN / EXCHANGE NODE
# =============================================================================
# This configuration is for PUBLIC backbone nodes that serve as network anchors.
# Anchors are the truth keepers and must maintain high availability.
#
# Requirements:
# - Public IP address with port forwarding (P2P port must be accessible)
# - Stable uptime (24/7 recommended)
# - Good bandwidth and low latency
# - Minimum 3 peer connections required for rewards
#
# Anchors use STRICT mining eligibility:
# - Must be publicly reachable
# - Must have 3+ peer connections
# - Must be within 2 blocks of network tip
# =============================================================================

# ============================
# Network Identity & Ports
# ============================

# HTTP API port (for wallet, explorer, API clients)
VISION_PORT=7070

# P2P network port (must be publicly accessible and port-forwarded)
VISION_P2P_PORT=7072

# Public P2P port (same as P2P_PORT for anchors)
VISION_PUBLIC_PORT=7072

# ============================
# Node Role Configuration
# ============================

# ðŸ›°ï¸ ANCHOR NODE: Backbone / truth keeper with strict requirements
VISION_ANCHOR_NODE=true

# Outbound-only mode (must be false for anchors - they need inbound connections)
VISION_OUTBOUND_ONLY=false

# Exchange/wallet backend optimization (strict lag=0 requirement)
# Set to true if this node powers exchanges or wallet backends
VISION_EXCHANGE_NODE=true

# ============================
# Anchor Mesh Configuration
# ============================

# List of OTHER anchor nodes to maintain connections with
# This creates a strongly-connected anchor mesh for consensus
# Format: ip1:port1,ip2:port2,ip3:port3
# Example:
# VISION_ANCHOR_SEEDS=16.163.123.221:7072,69.173.206.211:7072,74.125.212.204:7072
VISION_ANCHOR_SEEDS=

# ============================
# Mining Configuration
# ============================

# Wallet address for block rewards (change this!)
VISION_WALLET_ADDRESS=0xYOUR_ANCHOR_WALLET_ADDRESS_HERE

# Mining thread count (0 = auto-detect, recommended for anchors)
VISION_MINING_THREADS=0

# ============================
# Logging & Monitoring
# ============================

# Log level (trace, debug, info, warn, error)
RUST_LOG=info,vision_node=info,mining=info

# Enable telemetry reporting (optional)
# VISION_TELEMETRY_ENABLED=true

# ============================
# Advanced Configuration
# ============================

# Database path (default: ./vision_data_<PORT>)
# VISION_DB_PATH=./vision_data_7070

# Enable guardian mode for enhanced network monitoring
# VISION_GUARDIAN_MODE=true

# Minimum peer connections (anchors should have at least 5+)
# VISION_MIN_PEER_COUNT=5

# Maximum peer connections (anchors can handle more)
# VISION_MAX_PEER_COUNT=50

# ============================
# Notes for Anchor Operators
# ============================
# 
# 1. Port Forwarding: You MUST forward port 7072 (or your P2P_PORT) through your router
#    to this machine's local IP address
#
# 2. Firewall: Allow inbound TCP connections on port 7072
#
# 3. Public IP: If behind CGNAT or dynamic IP, use a service like NoIP or DynDNS
#
# 4. Monitoring: Check /api/mining/status to verify anchor is eligible:
#    curl http://localhost:7070/api/mining/status
#
# 5. Anchor Seeds: List other reliable anchor IPs in VISION_ANCHOR_SEEDS to maintain
#    a strong backbone mesh
#
# 6. Rewards: Anchors have STRICT eligibility:
#    - Must be publicly reachable (verified by inbound peer connections)
#    - Must have 3+ active peers
#    - Must be within 2 blocks of network tip
#
# 7. Uptime: Aim for 99%+ uptime to maximize rewards and support the network

