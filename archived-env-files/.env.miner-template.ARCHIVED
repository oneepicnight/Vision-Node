# Vision Node Configuration - HOME MINER (Outbound-Only)
# =============================================================================
# This configuration is for HOME MINERS behind ISP CGNAT or restrictive firewalls.
# No port forwarding required! Just need outbound connections to anchors.
#
# Benefits:
# - Works behind CGNAT, double-NAT, ISP firewalls
# - No port forwarding needed
# - No public IP required
# - Can still participate in mining and earn rewards!
#
# Home miners use RELAXED mining eligibility:
# - NO public reachability requirement
# - Only need 1+ peer connection (to any anchor)
# - Must be within 2 blocks of network tip
# =============================================================================

# ============================
# Network Identity & Ports
# ============================

# HTTP API port (for local wallet access)
VISION_PORT=7070

# P2P network port (local only, doesn't need to be public)
VISION_P2P_PORT=7072

# Public P2P port (harmless to set even if not accessible)
VISION_PUBLIC_PORT=7072

# ============================
# Node Role Configuration
# ============================

# Not an anchor node (home miner)
VISION_ANCHOR_NODE=false

# ðŸŽ« OUTBOUND-ONLY MODE: Can still earn mining rewards without being publicly reachable!
VISION_OUTBOUND_ONLY=true

# ============================
# Anchor Connection Configuration
# ============================

# ðŸ›°ï¸ CRITICAL: List of public anchor nodes to connect to
# You MUST have at least 1-2 reliable anchors to stay synced
# These are the backbone nodes that provide network truth
# Format: ip1:port1,ip2:port2,ip3:port3
#
# âš ï¸ CHANGE THIS! Add your community's anchor IPs:
VISION_ANCHOR_SEEDS=16.163.123.221:7072,69.173.206.211:7072,74.125.212.204:7072

# ============================
# Mining Configuration
# ============================

# Wallet address for block rewards (change this!)
VISION_WALLET_ADDRESS=0xYOUR_HOME_MINER_WALLET_ADDRESS_HERE

# Mining thread count
# 0 = auto-detect (uses all cores)
# 2 = laptop mode (50% cores)
# 6 = balanced mode (75% cores)
# -1 = beast mode (100% cores)
VISION_MINING_THREADS=0

# ============================
# Logging Configuration
# ============================

# Log level (info is good for home miners, debug if troubleshooting)
RUST_LOG=info,vision_node=info,mining=info

# ============================
# Advanced Configuration
# ============================

# Database path (default: ./vision_data_<PORT>)
# VISION_DB_PATH=./vision_data_7070

# Minimum peer connections (1 is fine for home miners)
# VISION_MIN_PEER_COUNT=1

# Maximum peer connections (keep moderate for home internet)
# VISION_MAX_PEER_COUNT=20

# ============================
# Notes for Home Miners
# ============================
#
# 1. ðŸŽ« MINING TICKET: As long as your node:
#    - Connects to at least 1 anchor (via VISION_ANCHOR_SEEDS)
#    - Stays within 2 blocks of network tip
#    - Sees the same chain as the network
#    â†’ You're IN THE MINING! Your ISP can't stop you.
#
# 2. ANCHOR SEEDS: Make sure VISION_ANCHOR_SEEDS points to reliable public anchors.
#    Ask your community for the latest anchor IPs.
#
# 3. NO PORT FORWARDING: You don't need to forward any ports or have a public IP.
#    Outbound connections work through any firewall.
#
# 4. CHECK STATUS: Verify mining eligibility at any time:
#    curl http://localhost:7070/api/mining/status
#
# 5. PEER COUNT: You only need 1+ peer to be eligible. More is better for stability.
#
# 6. SYNC SPEED: If falling behind, check:
#    - VISION_ANCHOR_SEEDS has fast, reliable anchors
#    - Your internet connection is stable
#    - No bandwidth throttling from ISP
#
# 7. BANDWIDTH: Mining uses minimal bandwidth. Most home internet (10+ Mbps) is fine.
#
# 8. FIREWALL: No inbound rules needed! Only outbound to anchors on port 7072.
#
# 9. REWARDS: Same mining chance as anchors when synced! No penalty for being
#    outbound-only. Block distribution is decentralized.
#
# 10. MULTIPLE NODES: You can run multiple nodes on same LAN:
#     - Use different ports (VISION_PORT=7071, 7072, 7073, etc.)
#     - Each gets independent mining ticket when synced

